<canvas id="myCanvas" width="1000" height="1000"></canvas>

<script>
    canvas = document.getElementById("myCanvas");
    ctx = canvas.getContext("2d");

    function draw(img,angle=0) {
        ctx.save();


        let w = img.width;
        let h = img.height;

        let sizer = scalePreserveAspectRatio(w, h, canvas.width, canvas.height);
        if(angle){
            ctx.translate((w * sizer)/2,(h*sizer)/2);
            ctx.rotate(angle);
            ctx.translate(-(w * sizer)/2,-(h*sizer)/2);
        }

        ctx.drawImage(img, 0, 0, w, h, 0, 0, w * sizer, h * sizer);
        ctx.restore();
    }

    function scalePreserveAspectRatio(imgW, imgH, maxW, maxH) {
        return (Math.min((maxW / imgW), (maxH / imgH)));
    }

    window.onload = function () {
        imgMontre = new Image();
        imgHeure = new Image();
        imgMinute = new Image();
        imgMontre.onload = () => {
            draw(imgMontre);
            imgHeure.onload = () => {
                draw(imgHeure,Math.PI/2);
                imgMinute.onload = () => draw(imgMinute);
                imgMinute.src = "minute2.png";

            }
            imgHeure.src = "heure2.png";
        };
        imgMontre.src = "montre.png";


        ctx.fillStyle = "#03EFFF";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
    };

</script>
